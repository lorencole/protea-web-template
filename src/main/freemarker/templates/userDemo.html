<@page title="User Function Demo">

<script src="hello/hello.all.js"></script>

<button onclick="hello('facebook').login()">facebook</button>
<button onclick="hello('google').login()">google</button>
<button onclick="hello('twitter').login()">twitter</button>

<div id="profile"></div>

<script>

hello.on('auth.login', function(auth){
	
	console.log(auth);
	
	// call user information, for the given network
	hello( auth.network ).api( '/me' ).then( function(r){
		// Inject it into the container
		var label = document.getElementById( "profile_"+ auth.network );
		if(!label){
			label = document.createElement('div');
			label.id = "profile_"+auth.network;
			document.getElementById('profile').appendChild(label);
		}
		label.innerHTML = '<img src="'+ r.thumbnail +'" /> Hey '+r.name;
	});
});

hello.init({ 
	facebook : '1525659471006265',
	google : '129606498407-7dkt6329l3sgfgjck09rn8avj042hut1.apps.googleusercontent.com',
	twitter: 'maUVScpJ3ndp817EQNdCB9d0F'
},{
	redirect_uri : '/hello/redirect.html',
	oauth_proxy  : 'http://localhost.fieldraiser.com:8080/helloshim'
});

</script>

</@page>